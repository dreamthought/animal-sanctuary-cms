import{s as se,n as R,o as ne,a as W}from"../chunks/scheduler.h1jTRUOO.js";import{S as oe,i as ce,s as T,e as p,h as ie,d as m,c as j,a as _,j as C,g as y,b as d,f as F,l as h,q as le,t as O,k as J,m as ae}from"../chunks/index.PDcwl8Oq.js";function B(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function Q(n,t,e){const l=n.slice();return l[5]=t[e],l}function U(n,t,e){const l=n.slice();return l[8]=t[e],l}function X(n){let t,e="Loading news....";return{c(){t=p("p"),t.textContent=e},l(l){t=_(l,"P",{"data-svelte-h":!0}),y(t)!=="svelte-1a1mu1l"&&(t.textContent=e)},m(l,a){F(l,t,a)},p:R,d(l){l&&m(t)}}}function Y(n){let t=n[8]+"",e,l;return{c(){e=O(t),l=p("br")},l(a){e=J(a,t),l=_(a,"BR",{})},m(a,c){F(a,e,c),F(a,l,c)},p(a,c){c&1&&t!==(t=a[8]+"")&&ae(e,t)},d(a){a&&(m(e),m(l))}}}function ee(n){let t,e,l;return{c(){t=p("div"),e=p("img"),this.h()},l(a){t=_(a,"DIV",{class:!0});var c=C(t);e=_(c,"IMG",{src:!0,class:!0,alt:!0}),c.forEach(m),this.h()},h(){W(e.src,l=n[5].full_picture)||d(e,"src",l),d(e,"class","news-crop rounded img-fluid w-100 news-img-crop svelte-wfxutj"),d(e,"alt","Facebook"),d(t,"class","col-lg-3 d-flex align-items-center align-content-center news-img-container svelte-wfxutj")},m(a,c){F(a,t,c),h(t,e)},p(a,c){c&1&&!W(e.src,l=a[5].full_picture)&&d(e,"src",l)},d(a){a&&m(t)}}}function te(n){let t,e,l,a,c,S,g,I="The Animal Sanctuary",E,v,r=n[2](n[5].created_time)+"",f,i,b,s,A,D,G,L,$,H,q,V=B(n[1](n[5].message)),w=[];for(let o=0;o<V.length;o+=1)w[o]=Y(U(n,V,o));let k=n[5].full_picture&&ee(n);return{c(){t=p("div"),e=p("div"),l=p("div"),a=p("div"),c=p("img"),g=p("b"),g.textContent=I,E=T(),v=p("small"),f=O(r),i=T(),b=p("p");for(let o=0;o<w.length;o+=1)w[o].c();s=T(),A=p("br"),D=p("a"),G=O("See more "),L=p("i"),H=T(),k&&k.c(),q=T(),this.h()},l(o){t=_(o,"DIV",{class:!0});var x=C(t);e=_(x,"DIV",{class:!0});var u=C(e);l=_(u,"DIV",{class:!0});var N=C(l);a=_(N,"DIV",{class:!0});var M=C(a);c=_(M,"IMG",{src:!0,alt:!0,class:!0}),g=_(M,"B",{"data-svelte-h":!0}),y(g)!=="svelte-9ejnh"&&(g.textContent=I),E=j(M),v=_(M,"SMALL",{class:!0});var K=C(v);f=J(K,r),K.forEach(m),M.forEach(m),i=j(N),b=_(N,"P",{});var P=C(b);for(let z=0;z<w.length;z+=1)w[z].l(P);s=j(P),A=_(P,"BR",{}),D=_(P,"A",{href:!0,target:!0,class:!0});var Z=C(D);G=J(Z,"See more "),L=_(Z,"I",{class:!0}),C(L).forEach(m),Z.forEach(m),P.forEach(m),N.forEach(m),H=j(u),k&&k.l(u),u.forEach(m),x.forEach(m),q=j(o),this.h()},h(){W(c.src,S="images/news/facebook-logo.png")||d(c,"src",S),d(c,"alt","The Animal Sanctuary NZ Facebook logo"),d(c,"class","custom-news-logo"),d(v,"class","ms-auto"),d(a,"class","d-flex"),d(L,"class","fa-solid fa-arrow-right"),d(D,"href",$=n[5].permalink_url),d(D,"target","_blank"),d(D,"class","in-text-link-facebook"),d(l,"class","col-lg-9 p-2"),d(e,"class","row g-0 mb-3 custom-content-news"),d(t,"class","col")},m(o,x){F(o,t,x),h(t,e),h(e,l),h(l,a),h(a,c),h(a,g),h(a,E),h(a,v),h(v,f),h(l,i),h(l,b);for(let u=0;u<w.length;u+=1)w[u]&&w[u].m(b,null);h(b,s),h(b,A),h(b,D),h(D,G),h(D,L),h(e,H),k&&k.m(e,null),F(o,q,x)},p(o,x){if(x&1&&r!==(r=o[2](o[5].created_time)+"")&&ae(f,r),x&3){V=B(o[1](o[5].message));let u;for(u=0;u<V.length;u+=1){const N=U(o,V,u);w[u]?w[u].p(N,x):(w[u]=Y(N),w[u].c(),w[u].m(b,s))}for(;u<w.length;u+=1)w[u].d(1);w.length=V.length}x&1&&$!==($=o[5].permalink_url)&&d(D,"href",$),o[5].full_picture?k?k.p(o,x):(k=ee(o),k.c(),k.m(e,null)):k&&(k.d(1),k=null)},d(o){o&&(m(t),m(q)),le(w,o),k&&k.d()}}}function re(n){let t,e,l,a="NEWS",c,S,g='<b>Our NEWS page is updated from our Facebook page. To see more, come <a href="https://www.facebook.com/TheAnimalSanctuaryNZ" target="_blank" class="in-text-link-facebook">Follow us on Facebook</a>.</b>',I,E,v=B(n[0]),r=[];for(let i=0;i<v.length;i+=1)r[i]=te(Q(n,v,i));let f=null;return v.length||(f=X()),{c(){t=T(),e=p("div"),l=p("h1"),l.textContent=a,c=T(),S=p("p"),S.innerHTML=g,I=T(),E=p("div");for(let i=0;i<r.length;i+=1)r[i].c();f&&f.c(),this.h()},l(i){ie("svelte-3cujzf",document.head).forEach(m),t=j(i),e=_(i,"DIV",{class:!0});var s=C(e);l=_(s,"H1",{"data-svelte-h":!0}),y(l)!=="svelte-9yag3r"&&(l.textContent=a),c=j(s),S=_(s,"P",{class:!0,"data-svelte-h":!0}),y(S)!=="svelte-10l6n7p"&&(S.innerHTML=g),I=j(s),E=_(s,"DIV",{class:!0});var A=C(E);for(let D=0;D<r.length;D+=1)r[D].l(A);f&&f.l(A),A.forEach(m),s.forEach(m),this.h()},h(){document.title="News | The Animal Sanctuary",d(S,"class","text-center"),d(E,"class","row row-cols-1"),d(e,"class","container custom-content shadow-lg")},m(i,b){F(i,t,b),F(i,e,b),h(e,l),h(e,c),h(e,S),h(e,I),h(e,E);for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(E,null);f&&f.m(E,null)},p(i,[b]){if(b&7){v=B(i[0]);let s;for(s=0;s<v.length;s+=1){const A=Q(i,v,s);r[s]?r[s].p(A,b):(r[s]=te(A),r[s].c(),r[s].m(E,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=v.length,!v.length&&f?f.p(i,b):v.length?f&&(f.d(1),f=null):(f=X(),f.c(),f.m(E,null))}},i:R,o:R,d(i){i&&(m(t),m(e)),le(r,i),f&&f.d()}}}const fe="Some exciting news from the Animal Sanctuary!",ue=65,he="https://560dcon6p6.execute-api.us-east-1.amazonaws.com/default/animal-sanctuary-news-api-poc";function de(n,t,e){let l=[];const a=g=>g?(g.split(" ").slice(0,ue).join(" ")+" ...").split(`
`):[fe],c=g=>{const I={day:"2-digit",month:"short"};return new Intl.DateTimeFormat("en-NZ",I).format(new Date(g)).replace(/^0/,"")};return ne(async()=>{const g=await fetch(he,{method:"GET",headers:{Accept:"application/json"}}),I=await g.json();g.ok&&e(0,l=I.posts.data)}),[l,a,c]}class _e extends oe{constructor(t){super(),ce(this,t,de,re,se,{})}}export{_e as component};
